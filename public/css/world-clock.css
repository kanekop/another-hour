/* public/css/world-clock.css */

/* ... (既存の #world-clocks-container スタイルはそのまま) ... */
#world-clocks-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* ここが重要 */
  gap: 20px;
  width: 100%;
  max-width: 1200px; /* この値も列数に影響する可能性があります */
  margin-top: 20px;
}
/* デフォルト (ライトモード) の .world-clock-item スタイル */
.world-clock-item {
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 15px;
  background: #f0f0f0;
  color: #1a1a1a;
  text-align: center;
  transition: box-shadow 0.2s ease-in-out, background-color 0.3s ease, color 0.3s ease;
}

.world-clock-item h3 {
  margin-top: 0;
  font-size: 1.2em;
  color: #c28000;
  margin-bottom: 10px;
}

.ah-time-display-main {
  font-size: 1.8em;
  font-weight: bold;
  color: #1a1a1a;
  margin: 5px 0;
}

.normal-time-display-sub {
  font-size: 0.9em;
  color: #555;
}

/* --- AH状態の .world-clock-item の特別スタイル --- */
/* これが Fernando de Noronha のようなAH時間帯のアイテムに適用される */
.world-clock-item.blinking-ah {
  background: #222;     /* ★ダークモードの背景色 */
  border-color: #444;   /* ★ダークモードの境界線色 */
  color: white;          /* ★ダークモードの基本文字色 */
  animation: avanzado-ah-blink 2s ease-in-out infinite; /* ★新しいアニメーション名 (後述) */
}

.world-clock-item.blinking-ah h3 {
  color: #ffc107;     /* ダークモード時の都市名の色 (メインクロックのinverted時のah-sectorに近い黄色) */
}

.world-clock-item.blinking-ah .ah-time-display-main {
  color: white;          /* ダークモード時のAH時間の色 */
}

.world-clock-item.blinking-ah .normal-time-display-sub {
  color: #aaa;          /* ダークモード時の通常時間の色 */
}

/* AH状態のアイテム内のアナログ時計のスタイル */
.world-clock-item.blinking-ah .analog-face-world {
  fill: #333;           /* ダークモードの盤面 */
  stroke: #555;         /* ダークモードの盤面枠線 */
}
.world-clock-item.blinking-ah .analog-ticks-world line {
    stroke: #777;       /* ダークモードの目盛り */
}
.world-clock-item.blinking-ah .analog-hand-world.hour-world,
.world-clock-item.blinking-ah .analog-hand-world.minute-world {
  stroke: #e0e0e0;     /* ダークモードの時針・分針 */
}
.world-clock-item.blinking-ah .analog-hand-world.second-world {
  stroke: #ff6b6b;     /* ダークモードの秒針 */
}
.world-clock-item.blinking-ah .analog-center-world {
  fill: #e0e0e0;       /* ダークモードの中央ドット */
}
/* --- AH状態の .world-clock-item の特別スタイル END --- */


/* 点滅アニメーションの定義 (名前を変更して、opacity以外の効果も考慮できるように) */
@keyframes avanzado-ah-blink {
  0%   { box-shadow: 0 0 5px rgba(255, 193, 7, 0.3); opacity: 1; }
  50%  { box-shadow: 0 0 15px rgba(255, 193, 7, 0.7); opacity: 0.7; } /* 少し明るく、影も強調 */
  100% { box-shadow: 0 0 5px rgba(255, 193, 7, 0.3); opacity: 1; }
}


/* --- デフォルトのアナログ時計のスタイル (body が inverted でない場合) --- */
.analog-clock-world {
  width: 100px;
  height: 100px;
  margin: 10px auto 0;
  display: block;
}

.analog-clock-world .analog-face-world {
  fill: #ddd;
  stroke: #bbb;
  stroke-width: 2;
}

.analog-clock-world .analog-ticks-world line {
    stroke: #888;
    stroke-width: 2;
}

.analog-clock-world .analog-hand-world {
  stroke-linecap: round;
  transform-origin: 100px 100px;
}

.analog-clock-world .analog-hand-world.hour-world {
  stroke: #333;
  stroke-width: 6;
}

.analog-clock-world .analog-hand-world.minute-world {
  stroke: #333;
  stroke-width: 4;
}

.analog-clock-world .analog-hand-world.second-world {
  stroke: #c00000;
  stroke-width: 2;
}

.analog-clock-world .analog-center-world {
  fill: #333;
}

/* body.inverted 時のスタイルは、もしサイト全体でダークモード切り替えを残す場合に必要になりますが、 */
/* World Clockページでは body.inverted を操作しないため、以下のブロックは World Clockページでは直接効きません。 */
/* ただし、他のページ (main clockなど) とCSSを共通化している部分がある場合は残しておきます。 */
/* もし World Clock専用のCSSであれば、body.inverted を前提としたスタイルは不要になるかもしれません。 */
/* 今回は、AHアイテムの反転を .blinking-ah クラスで直接制御するため、 */
/* body.inverted に依存しない形にしています。 */

/* body.inverted .world-clock-item { ... } などのブロックは、 */
/* 今回の .world-clock-item.blinking-ah で上書きされるか、 */
/* あるいは World Clockページでは body.inverted にならないため影響しません。 */